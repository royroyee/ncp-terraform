# State
테라폼은 Stateful 애플리케이션이다. 프로비저닝 결과에 따른 State 를 저장하고 프로비저닝한 모든 내용을 저장된 상태로 추적한다.


## State 란
테라폼에서 코드를 변경한 이후 `terraform apply` 를 수행하면 이전에 생성된 리소스와 비교해 생성, 수정 삭제 동작이 수행되는데, 
`State` 를 사용하여 대상 환경에서 어떤 리소스가 테라폼으로 관리되는 리소스인지 판별하고 결과를 기록한다.

- State 에는 테라폼 구성과 실제를 동기화하고 각 리소스에 고유한 아이디로 맵핑한다.
- 리소스 종속성과 같은 메타데이터를 저장하고 추적한다.
- 테라폼 구성으로 프로비저닝된 결과를 캐싱하는 역할을 수행한다.

### terraform.tfstate
- State 파일 
- JSON 형식으로 구성되어 있음

### terraform refresh (명령어)
> 인프라는 Terraform 이 통제하는 범위 밖에서 변경될 수 있다! (수동으로 UI에서 변경 등등)
- State 파일은 인프라의 마지막으로 갱신된 상태를 나타냅니다.
  - State 파일이 빌드 한 파일과 여전히 일치하는지 확인하고 싶다면 `terraform refresh` 명령어 사용

